{"version":3,"sources":["webpack:///./src/views/admin/AdminOrder.vue?66f3","webpack:///src/views/admin/AdminOrder.vue","webpack:///./src/views/admin/AdminOrder.vue?9a4c","webpack:///./src/views/admin/AdminOrder.vue","webpack:///./src/apis/admin/adminOrder.js","webpack:///./src/views/admin/AdminOrder.vue?b07d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","order","id","name","phone","address","_f","createdAt","checkoutPrice","payment_status","directives","rawName","value","shipping_status","expression","attrs","href","on","click","$event","$router","back","_l","product","key","src","image","OrderItem","quantity","price","staticRenderFns","AdminOrdervue_type_script_lang_js_","components","Spinner","mixins","data","isLoading","created","orderId","$route","params","fetchOrder","beforeRouteUpdate","to","from","next","methods","_fetchOrder","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","vm","_ref","statusText","wrap","_context","prev","adminOrder","getOrder","sent","Error","t0","helpers","fire","type","title","stop","_x","apply","arguments","admin_AdminOrdervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_utils_helpers__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","getOrders","apiHelper","get","concat","putOrder","put","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AdminOrder_vue_vue_type_style_index_0_id_3a690431_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AdminOrder_vue_vue_type_style_index_0_id_3a690431_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-18fb62d0.26a4765b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container py-5\"},[(_vm.isLoading)?_c('Spinner'):_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('h5',[_vm._v(\"訂單編號：\"+_vm._s(_vm.order.id))]),_c('p',[_vm._v(\"買者姓名：\"+_vm._s(_vm.order.name))]),_c('p',[_vm._v(\"連絡電話：\"+_vm._s(_vm.order.phone))]),_c('p',[_vm._v(\"聯絡地址：\"+_vm._s(_vm.order.address))]),_c('p',[_vm._v(\"購買日期：\"+_vm._s(_vm._f(\"dateTime\")(_vm.order.createdAt)))]),_c('p',[_vm._v(\"消費總額：\"+_vm._s(_vm._f(\"currency\")(_vm.order.checkoutPrice)))]),_c('hr'),_c('div',{staticClass:\"mb-3\"},[_vm._v(\"\\n        付款狀態：\\n        \"),(_vm.order.payment_status === '1')?_c('strong',{staticClass:\"text-success\"},[_vm._v(\"已付款\")]):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"尚未付款\")])]),_c('div',{staticClass:\"mb-3\"},[_vm._v(\"\\n        出貨狀態：\\n        \"),_c('strong',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.order.shipping_status === '0'),expression:\"order.shipping_status === '0'\"}],staticClass:\"text-muted\"},[_vm._v(\"處理中\")]),_c('strong',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.order.shipping_status === '1'),expression:\"order.shipping_status === '1'\"}],staticClass:\"text-danger\"},[_vm._v(\"配送中\")]),_c('strong',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.order.shipping_status === '2'),expression:\"order.shipping_status === '2'\"}],staticClass:\"text-success\"},[_vm._v(\"已到貨\")])]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\"回上一頁\")])]),_c('div',{staticClass:\"col-md-8\"},_vm._l((_vm.order.items),function(product){return _c('div',{key:product.id,staticClass:\"card mb-3\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col-md-3\"},[_c('img',{staticClass:\"card-img\",attrs:{\"src\":_vm._f(\"emptyImage\")(product.image)}})]),_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"card-body\"},[_c('p',[_vm._v(\"商品名稱：\"+_vm._s(product.name))]),_c('p',[_vm._v(\"購買數量：\"+_vm._s(product.OrderItem.quantity))]),_c('span',[_vm._v(\"商品總額：\"+_vm._s(product.OrderItem.price))])])])])])}),0)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container py-5\">\n    <Spinner v-if=\"isLoading\" />\n\n    <div v-else class=\"row\">\n      <div class=\"col-md-4\">\n        <h5>訂單編號：{{ order.id }}</h5>\n        <p>買者姓名：{{ order.name }}</p>\n        <p>連絡電話：{{ order.phone }}</p>\n        <p>聯絡地址：{{ order.address }}</p>\n        <p>購買日期：{{ order.createdAt | dateTime }}</p>\n        <p>消費總額：{{ order.checkoutPrice | currency }}</p>\n        <hr />\n\n        <div class=\"mb-3\">\n          付款狀態：\n          <strong v-if=\"order.payment_status === '1'\" class=\"text-success\">已付款</strong>\n          <span v-else class=\"text-muted\">尚未付款</span>\n        </div>\n\n        <div class=\"mb-3\">\n          出貨狀態：\n          <strong v-show=\"order.shipping_status === '0'\" class=\"text-muted\">處理中</strong>\n          <strong v-show=\"order.shipping_status === '1'\" class=\"text-danger\">配送中</strong>\n          <strong v-show=\"order.shipping_status === '2'\" class=\"text-success\">已到貨</strong>\n        </div>\n\n        <a href=\"#\" @click=\"$router.back()\">回上一頁</a>\n      </div>\n\n      <div class=\"col-md-8\">\n        <div v-for=\"product in order.items\" :key=\"product.id\" class=\"card mb-3\">\n          <div class=\"row no-gutters\">\n            <div class=\"col-md-3\">\n              <img :src=\"product.image | emptyImage\" class=\"card-img\" />\n            </div>\n\n            <div class=\"col-md-8\">\n              <div class=\"card-body\">\n                <p>商品名稱：{{ product.name }}</p>\n                <p>購買數量：{{ product.OrderItem.quantity }}</p>\n                <span>商品總額：{{ product.OrderItem.price }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport adminOrderAPI from '@/apis/admin/adminOrder'\nimport Spinner from '@/components/Spinner'\nimport { dateTimeFilter, currencyFilter, emptyImageFilter } from '@/utils/mixins'\nimport { Toast } from '@/utils/helpers'\n\nexport default {\n  components: {\n    Spinner\n  },\n  mixins: [dateTimeFilter, currencyFilter, emptyImageFilter],\n  data() {\n    return {\n      order: {},\n      isLoading: false\n    }\n  },\n  created() {\n    const { orderId } = this.$route.params\n    this.fetchOrder(orderId)\n  },\n  beforeRouteUpdate(to, from, next) {\n    const { orderId } = to.params\n    this.fetchOrder(orderId)\n    next()\n  },\n  methods: {\n    async fetchOrder(orderId) {\n      const vm = this\n      try {\n        vm.isLoading = true\n        const { data, statusText } = await adminOrderAPI.getOrder(orderId)\n\n        if (statusText !== 'OK') {\n          throw new Error(statusText)\n        }\n\n        vm.order = data.order\n        vm.isLoading = false\n      } catch (error) {\n        Toast.fire({\n          type: 'error',\n          title: '無法取得訂單資料，請稍後再試'\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.card {\n  box-shadow: 10px 10px 5px rgba(0, 0, 0, 0.5);\n}\n\n.card-img {\n  width: 10em;\n  height: 10em;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminOrder.vue?vue&type=template&id=3a690431&scoped=true&\"\nimport script from \"./AdminOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminOrder.vue?vue&type=style&index=0&id=3a690431&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a690431\",\n  null\n  \n)\n\nexport default component.exports","import {\n  apiHelper\n}\nfrom '@/utils/helpers'\n\nexport default {\n  getOrders() {\n    return apiHelper.get(`/admin/orders`)\n  },\n  getOrder(orderId) {\n    return apiHelper.get(`/admin/orders/${orderId}`)\n  },\n  putOrder(orderId, value) {\n    return apiHelper.put(`/admin/orders/${orderId}`, value)\n  },\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrder.vue?vue&type=style&index=0&id=3a690431&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrder.vue?vue&type=style&index=0&id=3a690431&scoped=true&lang=css&\""],"sourceRoot":""}