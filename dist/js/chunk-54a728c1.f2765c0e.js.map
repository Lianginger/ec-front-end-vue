{"version":3,"sources":["webpack:///./src/views/admin/AdminDiscounts.vue?e40f","webpack:///./src/components/admin/AdminNav.vue?711f","webpack:///./src/components/admin/AdminNav.vue","webpack:///./src/apis/admin/adminDiscount.js","webpack:///./src/views/admin/AdminDiscounts.vue?5919","webpack:///src/views/admin/AdminDiscounts.vue","webpack:///./src/views/admin/AdminDiscounts.vue?ee4e","webpack:///./src/views/admin/AdminDiscounts.vue","webpack:///./src/components/admin/AdminNav.vue?43a8"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AdminDiscounts_vue_vue_type_style_index_0_id_5d7b1f7f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AdminDiscounts_vue_vue_type_style_index_0_id_5d7b1f7f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","to","staticRenderFns","script","component","Object","componentNormalizer","__webpack_exports__","_utils_helpers__WEBPACK_IMPORTED_MODULE_0__","getDiscounts","apiHelper","get","getDiscount","discountId","concat","postDiscount","formData","post","putDiscount","put","deleteDiscount","delete","_m","_l","discount","key","id","scope","_s","name","target_price","type","_e","params","on","click","$event","stopPropagation","preventDefault","width","AdminDiscountsvue_type_script_lang_js_","components","AdminNav","Spinner","data","discounts","isLoading","created","fetchDiscounts","methods","_fetchDiscounts","asyncToGenerator","regeneratorRuntime","mark","_callee","vm","_ref","statusText","wrap","_context","prev","next","adminDiscount","sent","Error","t0","helpers","fire","title","stop","apply","arguments","_deleteDiscount","_callee2","_ref2","_context2","status","filter","_x","admin_AdminDiscountsvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AdminNav_vue_vue_type_style_index_0_id_31b4f612_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AdminNav_vue_vue_type_style_index_0_id_31b4f612_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-54a728c1.f2765c0e.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDiscounts.vue?vue&type=style&index=0&id=5d7b1f7f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDiscounts.vue?vue&type=style&index=0&id=5d7b1f7f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dashboard\"},[_c('div',{staticClass:\"nav nav-pills\"},[_c('h5',[_vm._v(\"管理員\")]),_c('div',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/products\"}},[_c('i',{staticClass:\"fas fa-box-open\"}),_vm._v(\"\\n        產品列表\\n      \")])],1),_c('div',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/categories\"}},[_c('i',{staticClass:\"fas fa-align-justify\"}),_vm._v(\"\\n        產品類別\\n      \")])],1),_c('div',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/coupons\"}},[_c('i',{staticClass:\"fas fa-ticket-alt\"}),_vm._v(\"\\n        優惠券\\n      \")])],1),_c('div',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/discounts\"}},[_c('i',{staticClass:\"fas fa-tags\"}),_vm._v(\"\\n        特價活動\\n      \")])],1),_c('div',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/orders\"}},[_c('i',{staticClass:\"far fa-list-alt\"}),_vm._v(\"\\n        訂單列表\\n      \")])],1),_c('div',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/dashboard\"}},[_c('i',{staticClass:\"fas fa-chart-line\"}),_vm._v(\"\\n        銷售報表\\n      \")])],1),_c('div',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/users\"}},[_c('i',{staticClass:\"fas fa-users-cog\"}),_vm._v(\"\\n        權限管理\\n      \")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./AdminNav.vue?vue&type=template&id=31b4f612&scoped=true&\"\nvar script = {}\nimport style0 from \"./AdminNav.vue?vue&type=style&index=0&id=31b4f612&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31b4f612\",\n  null\n  \n)\n\nexport default component.exports","import { apiHelper } from '@/utils/helpers'\n\nexport default {\n  getDiscounts () {\n    return apiHelper.get(`/admin/discounts`)\n  },\n  getDiscount (discountId) {\n    return apiHelper.get(`/admin/discounts/${discountId}`)\n  },\n  postDiscount (formData) {\n    return apiHelper.post(`/admin/discounts`, formData)\n  },\n  putDiscount (discountId, formData) {\n    return apiHelper.put(`/admin/discounts/${discountId}`, formData)\n  },\n  deleteDiscount (discountId) {\n    return apiHelper.delete(`/admin/discounts/${discountId}`)\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('AdminNav',{staticClass:\"sidebar col-md-2 d-none d-md-block bg-light\"}),_c('div',{staticClass:\"container col-md-9 ml-sm-auto col-lg-10\"},[_c('router-link',{staticClass:\"btn btn-primary btn-block mb-4\",attrs:{\"to\":\"/admin/discounts/new\"}},[_vm._v(\"\\n      New Discounts\\n      \"),_c('i',{staticClass:\"fas fa-plus-square\"})]),_c('table',{staticClass:\"table\"},[_vm._m(0),(_vm.isLoading)?_c('Spinner'):_c('tbody',_vm._l((_vm.discounts),function(discount){return _c('tr',{key:discount.id},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(discount.id))]),_c('td',[_vm._v(_vm._s(discount.name))]),_c('td',[_vm._v(_vm._s(discount.target_price))]),_c('td',[(discount.type === 0)?_c('span',{staticClass:\"text-info\"},[_vm._v(\"免運費\")]):(discount.type === 1)?_c('span',{staticClass:\"text-info\"},[_vm._v(\"扣款\")]):(discount.type === 2)?_c('span',{staticClass:\"text-info\"},[_vm._v(\"打折\")]):_vm._e()]),_c('td',{staticClass:\"d-flex justify-content-between\"},[_c('router-link',{staticClass:\"btn btn-link\",attrs:{\"to\":{name: 'admin-discount', params: {discountId: discount.id}}}},[_vm._v(\"\\n              Show\\n              \"),_c('i',{staticClass:\"fas fa-external-link-square-alt\"})]),_c('router-link',{staticClass:\"btn btn-link\",attrs:{\"to\":{name: 'admin-discount-edit', params: {discountId: discount.id}}}},[_vm._v(\"\\n              Edit\\n              \"),_c('i',{staticClass:\"fas fa-edit\"})]),_c('button',{staticClass:\"btn btn-link\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteDiscount(discount.id)}}},[_vm._v(\"\\n              Delete\\n              \"),_c('i',{staticClass:\"fas fa-trash-alt\"})])],1)])}),0)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"thead-dark\"},[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"#\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Discount\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"消費額度\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"活動方案\")]),_c('th',{attrs:{\"scope\":\"col\",\"width\":\"300\"}},[_vm._v(\"Action\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"row\">\n    <AdminNav class=\"sidebar col-md-2 d-none d-md-block bg-light\" />\n\n    <div class=\"container col-md-9 ml-sm-auto col-lg-10\">\n      <router-link to=\"/admin/discounts/new\" class=\"btn btn-primary btn-block mb-4\">\n        New Discounts\n        <i class=\"fas fa-plus-square\"></i>\n      </router-link>\n\n      <table class=\"table\">\n        <thead class=\"thead-dark\">\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">Discount</th>\n            <th scope=\"col\">消費額度</th>\n            <th scope=\"col\">活動方案</th>\n            <th scope=\"col\" width=\"300\">Action</th>\n          </tr>\n        </thead>\n\n        <Spinner v-if=\"isLoading\" />\n\n        <tbody v-else>\n          <tr v-for=\"discount in discounts\" :key=\"discount.id\">\n            <th scope=\"row\">{{ discount.id }}</th>\n            <td>{{ discount.name }}</td>\n            <td>{{ discount.target_price }}</td>\n\n            <td>\n              <span v-if=\"discount.type === 0\" class=\"text-info\">免運費</span>\n              <span v-else-if=\"discount.type === 1\" class=\"text-info\">扣款</span>\n              <span v-else-if=\"discount.type === 2\" class=\"text-info\">打折</span>\n            </td>\n\n            <td class=\"d-flex justify-content-between\">\n              <router-link\n                :to=\"{name: 'admin-discount', params: {discountId: discount.id}}\"\n                class=\"btn btn-link\"\n              >\n                Show\n                <i class=\"fas fa-external-link-square-alt\"></i>\n              </router-link>\n\n              <router-link\n                :to=\"{name: 'admin-discount-edit', params: {discountId: discount.id}}\"\n                class=\"btn btn-link\"\n              >\n                Edit\n                <i class=\"fas fa-edit\"></i>\n              </router-link>\n\n              <button\n                type=\"button\"\n                class=\"btn btn-link\"\n                @click.stop.prevent=\"deleteDiscount(discount.id)\"\n              >\n                Delete\n                <i class=\"fas fa-trash-alt\"></i>\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport adminDiscountAPI from '@/apis/admin/adminDiscount'\nimport AdminNav from '@/components/admin/AdminNav'\nimport Spinner from '@/components/Spinner'\nimport { Toast } from '@/utils/helpers'\n\nexport default {\n  components: {\n    AdminNav,\n    Spinner\n  },\n  data () {\n    return {\n      discounts: [],\n      isLoading: false\n    }\n  },\n  created () {\n    this.fetchDiscounts()\n  },\n  methods: {\n    async fetchDiscounts () {\n      const vm = this\n      try {\n        vm.isLoading = true\n        const { data, statusText } = await adminDiscountAPI.getDiscounts()\n\n        if (statusText !== 'OK') {\n          throw new Error(statusText)\n        }\n\n        vm.discounts = data.discounts\n        vm.isLoading = false\n      } catch (error) {\n        Toast.fire({\n          type: 'error',\n          title: '無法取得 discount，請稍後再試'\n        })\n      }\n    },\n    async deleteDiscount (discountId) {\n      const vm = this\n      try {\n        const { data, statusText } = await adminDiscountAPI.deleteDiscount(discountId)\n\n        if (statusText !== 'OK' || data.status !== 'success') {\n          throw new Error(statusText)\n        }\n\n        vm.discounts = vm.discounts.filter(discount => discount.id !== discountId)\n        Toast.fire({\n          type: 'success',\n          title: '刪除 discount 成功'\n        })\n      } catch (error) {\n        Toast.fire({\n          type: 'error',\n          title: '無法取得刪除 discount，請稍後再試'\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.container {\n  margin: 50px;\n}\n\n.btn-link {\n  color: rgba(12, 61, 167, 0.815);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDiscounts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDiscounts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminDiscounts.vue?vue&type=template&id=5d7b1f7f&scoped=true&\"\nimport script from \"./AdminDiscounts.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminDiscounts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminDiscounts.vue?vue&type=style&index=0&id=5d7b1f7f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d7b1f7f\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminNav.vue?vue&type=style&index=0&id=31b4f612&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminNav.vue?vue&type=style&index=0&id=31b4f612&scoped=true&lang=css&\""],"sourceRoot":""}